{% extends "base.html" %}

{% block content %}
<h2>–ü–æ—Å—Ç</h2>

<div class="post">
    <p>{{ post.content }}</p>

    {% if post.media_url %}
        <img src="{{ post.media_url }}" style="width:100%;border-radius:10px;">
    {% endif %}
</div>

<hr>

<h3>–†–µ–∞–∫—Ü–∏–∏</h3>
<div id="reactions"></div>

<button class="btn" onclick="react('üëç')">üëç</button>
<button class="btn" onclick="react('üî•')">üî•</button>
<button class="btn" onclick="react('‚ù§Ô∏è')">‚ù§Ô∏è</button>

<script>
function react(emoji) {
    fetch("/api/v1/channels/react", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            post_id: {{ post.id }},
            emoji
        })
    })
    .then(r => r.json())
    .then(() => alert("–†–µ–∞–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞"));
}
</script>

{% endblock %}
